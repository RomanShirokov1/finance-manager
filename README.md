# Finance Manager (CLI)

Консольное приложение для управления личными финансами. Поддерживает несколько пользователей, бюджеты, категории, переводы и отчеты. Все данные хранятся в памяти, при выходе сохраняются в JSON.

## Быстрый старт

1) Откройте проект в IntelliJ IDEA как Gradle-проект.  
2) Запустите `src/main/java/org/example/Main.java`.  
3) Следуйте меню в консоли (интерфейс на русском).

Файл данных создается автоматически: `data/users.json`.

## Примеры команд

Команды можно вводить полностью или работать через меню.

```
доход "Зарплата" 20000 2026-01-01 "основная"
расход "Еда" 500 2026-01-02 "обед"
бюджет установить "Еда" 4000
бюджет изменить "Еда" 4500
бюджет удалить "Еда"
категория переименовать "Еда" "Питание"
категория удалить "Питание"
категория список
перевод user2 1000 2026-01-03 "долг"
отчет
отчет категории "Еда, Такси"
отчет период 2026-01-01 2026-01-31
отчет файл
экспорт
импорт
```

Категории с пробелами вводите в кавычках. Даты — в формате `ГГГГ-ММ-ДД`. Если дата не указана, используется текущая.

## Архитектура

- `core/model` — доменные модели (User, Wallet, Transaction).
- `core/service` — бизнес-логика (авторизация, финансы, отчеты, валидация).
- `core/port` — интерфейсы хранилищ.
- `infra` — реализация JSON-хранилища.
- `cli` — консольный интерфейс: меню, команды, форматирование таблиц.

## Тесты

Требования: ≥15 тестов или покрытие ≥50%. В проекте добавлены unit- и интеграционные тесты.

Запуск тестов:

```
./gradlew test
```

Результаты тестов: `build/reports/tests/test/index.html`.

## Примечания

- Пароли сохраняются в виде SHA-256 хэша.
- Перевод запрещен, если баланс отправителя станет меньше 0.
- Уведомления: 80% бюджета, перерасход, нулевой баланс, расходы > доходов.
